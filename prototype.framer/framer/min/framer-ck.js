!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o,s,u,a,l,c,f,p,h,m,d=function(t,e){return function(){return t.apply(e,arguments)}},y={}.hasOwnProperty,g=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};h=t("./Underscore")._,p=t("./Utils"),o=t("./Config").Config,s=t("./Defaults").Defaults,u=t("./EventEmitter").EventEmitter,a=t("./Frame").Frame,l=t("./Animators/LinearAnimator").LinearAnimator,i=t("./Animators/BezierCurveAnimator").BezierCurveAnimator,f=t("./Animators/SpringRK4Animator").SpringRK4Animator,c=t("./Animators/SpringDHOAnimator").SpringDHOAnimator,r={linear:l,"bezier-curve":i,"spring-rk4":f,"spring-dho":c},r.spring=r["spring-rk4"],r["cubic-bezier"]=r["bezier-curve"],m=[],n.Animation=function(t){function e(t){null==t&&(t={}),this.start=d(this.start,this),t=s.getDefaults("Animation",t),e.__super__.constructor.call(this,t),this.options=p.setDefaultProperties(t,{layer:null,properties:{},curve:"linear",curveOptions:{},time:1,repeat:0,delay:0,debug:!1}),t.origin&&console.warn("Animation.origin: please use layer.originX and layer.originY"),t.properties instanceof a&&(option.properties=option.properties.properties),this.options.properties=this._filterAnimatableProperties(this.options.properties),this._parseAnimatorOptions(),this._originalState=this._currentState(),this._repeatCounter=this.options.repeat}return g(e,t),e.runningAnimations=function(){return m},e.prototype._filterAnimatableProperties=function(t){var e,n,r;e={};for(n in t)r=t[n],h.isNumber(r)&&(e[n]=r);return e},e.prototype._currentState=function(){return h.pick(this.options.layer,h.keys(this.options.properties))},e.prototype._animatorClass=function(){var t,e;return e=p.parseFunction(this.options.curve),t=e.name.toLowerCase(),r.hasOwnProperty(t)?r[t]:l},e.prototype._parseAnimatorOptions=function(){var t,e,n,r,o,s,u,a,m,d,y,g,v;if(t=this._animatorClass(),r=p.parseFunction(this.options.curve),(t===l||t===i)&&((h.isString(this.options.curveOptions)||h.isArray(this.options.curveOptions))&&(this.options.curveOptions={values:this.options.curveOptions}),null==(s=this.options.curveOptions).time&&(s.time=this.options.time)),r.args.length){if(t===i&&(this.options.curveOptions.values=r.args.map(function(t){return parseFloat(t)||0})),t===f)for(y=["tension","friction","velocity"],e=u=0,m=y.length;m>u;e=++u)n=y[e],o=parseFloat(r.args[e]),o&&(this.options.curveOptions[n]=o);if(t===c){for(g=["stiffness","damping","mass","tolerance"],v=[],e=a=0,d=g.length;d>a;e=++a)n=g[e],o=parseFloat(r.args[e]),v.push(o?this.options.curveOptions[n]=o:void 0);return v}}},e.prototype.start=function(){var t,e,n,r,i,o,s,u,a=this;null===this.options.layer&&console.error("Animation: missing layer"),t=this._animatorClass(),this.options.debug&&console.log("Animation.start "+t.name,this.options.curveOptions),this._animator=new t(this.options.curveOptions),o=this.options.layer,r=this._currentState(),i={},u=this.options.properties;for(e in u)s=u[e],r[e]!==s&&(i[e]=s);if(h.isEqual(r,i)&&console.warn("Nothing to animate"),this.options.debug){console.log("Animation.start");for(e in i)s=i[e],console.log("	"+e+": "+r[e]+" -> "+i[e])}return this._animator.on("start",function(){return a.emit("start")}),this._animator.on("stop",function(){return a.emit("stop")}),this._animator.on("end",function(){return a.emit("end")}),this._repeatCounter>0&&this._animator.on("end",function(){for(e in r)s=r[e],o[e]=s;return a._repeatCounter--,a.start()}),this._animator.on("tick",function(t){for(e in i)s=i[e],o[e]=p.mapRange(t,0,1,r[e],i[e])}),n=function(){return m.push(a),a._animator.start()},this.options.delay?p.delay(this.options.delay,n):n()},e.prototype.stop=function(){var t;return null!=(t=this._animator)&&t.stop(),m=h.without(m,this)},e.prototype.reverse=function(){var t,n;return n=h.clone(this.options),n.properties=this._originalState,t=new e(n)},e.prototype.revert=function(){return this.reverse()},e.prototype.inverse=function(){return this.reverse()},e.prototype.invert=function(){return this.reverse()},e.prototype.emit=function(t){return e.__super__.emit.apply(this,arguments),this.options.layer.emit(t,this)},e}(u)},{"./Animators/BezierCurveAnimator":4,"./Animators/LinearAnimator":5,"./Animators/SpringDHOAnimator":6,"./Animators/SpringRK4Animator":7,"./Config":10,"./Defaults":12,"./EventEmitter":13,"./Frame":15,"./Underscore":23,"./Utils":24}],2:[function(t,e,n){var r,i,o,s,u,a;a=t("./Underscore")._,u=t("./Utils"),o=t("./Config").Config,s=t("./EventEmitter").EventEmitter,i="_animationLoopIndex",r={debug:!1,_animators:[],_running:!1,_frameCounter:0,_sessionTime:0,_start:function(){return!r._running&&r._animators.length?(r._running=!0,r._time=u.getTime(),r._sessionTime=0,window.requestAnimationFrame(r._tick)):void 0},_stop:function(){return r._running=!1},_tick:function(){var t,e,n,i,o,s,a,l,c;if(!r._animators.length)return r._stop();for(r._frameCounter++,i=u.getTime(),e=i-r._time,r._sessionTime+=e,n=[],c=r._animators,o=0,a=c.length;a>o;o++)t=c[o],t.emit("tick",t.next(e)),t.finished()&&(t.emit("tick",1),n.push(t));for(r._time=i,s=0,l=n.length;l>s;s++)t=n[s],r.remove(t),t.emit("end");window.requestAnimationFrame(r._tick)},add:function(t){return t.hasOwnProperty(i)?void 0:(t[i]=r._animators.push(t),t.emit("start"),r._start())},remove:function(t){return r._animators=a.without(r._animators,t),t.emit("stop")}},n.AnimationLoop=r},{"./Config":10,"./EventEmitter":13,"./Underscore":23,"./Utils":24}],3:[function(t,e,n){var r,i,o,s,u={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("./Utils"),i=t("./Config").Config,o=t("./EventEmitter").EventEmitter,r=t("./AnimationLoop").AnimationLoop,n.Animator=function(t){function e(t){null==t&&(t={}),this.setup(t)}return a(e,t),e.prototype.setup=function(t){throw Error("Not implemented")},e.prototype.next=function(t){throw Error("Not implemented")},e.prototype.finished=function(){throw Error("Not implemented")},e.prototype.start=function(){return r.add(this)},e.prototype.stop=function(){return r.remove(this)},e}(o)},{"./AnimationLoop":2,"./Config":10,"./EventEmitter":13,"./Utils":24}],4:[function(t,e,n){var r,i,o,s,u,a,l={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=t("../Underscore")._,s=t("../Utils"),r=t("../Animator").Animator,i={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},n.BezierCurveAnimator=function(t){function e(){return a=e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.setup=function(t){return u.isString(t)&&i.hasOwnProperty(t.toLowerCase())&&(t={values:i[t.toLowerCase()]}),t.values&&u.isString(t.values)&&i.hasOwnProperty(t.values.toLowerCase())&&(t={values:i[t.values.toLowerCase()],time:t.time}),u.isArray(t)&&4===t.length&&(t={values:t}),this.options=s.setDefaultProperties(t,{values:i["ease-in-out"],time:1}),this._unitBezier=new o(this.options.values[0],this.options.values[1],this.options.values[2],this.options.values[3],this._time=0)},e.prototype.next=function(t){return this._time+=t,this.finished()?1:this._unitBezier.solve(this._time/this.options.time)},e.prototype.finished=function(){return this._time>=this.options.time},e}(r),o=function(){function t(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by}return t.prototype.epsilon=1e-6,t.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},t.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},t.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},t.prototype.solveCurveX=function(t){var e,n,r,i,o,s;for(o=t,n=0;8>n;){if(s=this.sampleCurveX(o)-t,Math.abs(s)<this.epsilon)return o;if(e=this.sampleCurveDerivativeX(o),Math.abs(e)<this.epsilon)break;o-=s/e,n++}if(r=0,i=1,o=t,r>o)return r;if(o>i)return i;for(;i>r;){if(s=this.sampleCurveX(o),Math.abs(s-t)<this.epsilon)return o;t>s?r=o:i=o,o=.5*(i-r)+r}return o},t.prototype.solve=function(t){return this.sampleCurveY(this.solveCurveX(t))},t}()},{"../Animator":3,"../Underscore":23,"../Utils":24}],5:[function(t,e,n){var r,i,o,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("../Utils"),r=t("../Animator").Animator,n.LinearAnimator=function(t){function e(){return o=e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.setup=function(t){return this.options=i.setDefaultProperties(t,{time:1}),this._time=0},e.prototype.next=function(t){return this.finished()?1:(this._time+=t,this._time/this.options.time)},e.prototype.finished=function(){return this._time>=this.options.time},e}(r)},{"../Animator":3,"../Utils":24}],6:[function(t,e,n){var r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("../Utils"),r=t("../Animator").Animator,n.SpringDHOAnimator=function(t){function e(){return this.finished=s(this.finished,this),o=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.setup=function(t){return this.options=i.setDefaultProperties(t,{velocity:0,tolerance:1e-4,stiffness:50,damping:2,mass:.2,time:null}),console.log("SpringDHOAnimator.options",this.options,t),this._time=0,this._value=0,this._velocity=this.options.velocity},e.prototype.next=function(t){var e,n,r,i;return this.finished()?1:(this._time+=t,i=0-this.options.stiffness,r=0-this.options.damping,n=i*(this._value-1),e=r*this._velocity,this._velocity+=(n+e)/this.options.mass*t,this._value+=this._velocity*t,this._value)},e.prototype.finished=function(){return this._time>0&&Math.abs(this._velocity)<this.options.tolerance},e}(r)},{"../Animator":3,"../Utils":24}],7:[function(t,e,n){var r,i,o,s,u,a,l,c=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("../Utils"),r=t("../Animator").Animator,n.SpringRK4Animator=function(t){function e(){return this.finished=c(this.finished,this),l=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.setup=function(t){return this.options=i.setDefaultProperties(t,{tension:500,friction:10,velocity:0,tolerance:1e-4,time:null}),this._time=0,this._value=0,this._velocity=this.options.velocity,this._stopSpring=!1},e.prototype.next=function(t){var e,n,r,i,o,s,u;return this.finished()?1:(this._time+=t,u={},s={},u.x=this._value-1,u.v=this._velocity,u.tension=this.options.tension,u.friction=this.options.friction,s=a(u,t),this._value=1+s.x,e=s.v,r=s.x,n=s.v,i=Math.abs(r)<this.options.tolerance,o=Math.abs(n)<this.options.tolerance,this._stopSpring=i&&o,this._velocity=e,this._value)},e.prototype.finished=function(){return this._stopSpring},e}(r),o=function(t){return-t.tension*t.x-t.friction*t.v},s=function(t){var e;return e={},e.dx=t.v,e.dv=o(t),e},u=function(t,e,n){var r,i;return i={},i.x=t.x+n.dx*e,i.v=t.v+n.dv*e,i.tension=t.tension,i.friction=t.friction,r={},r.dx=i.v,r.dv=o(i),r},a=function(t,e){var n,r,i,o,a,l;return n=s(t),r=u(t,.5*e,n),i=u(t,.5*e,r),o=u(t,e,i),l=1/6*(n.dx+2*(r.dx+i.dx)+o.dx),a=1/6*(n.dv+2*(r.dv+i.dv)+o.dv),t.x=t.x+l*e,t.v=t.v+a*e,t}},{"../Animator":3,"../Utils":24}],8:[function(t,e,n){var r,i,o,s,u,a,l=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("./Underscore")._,u=t("./Utils"),s=t("./EventEmitter").EventEmitter,r="_ObjectCounter",i="_DefinedPropertiesKey",o="_DefinedPropertiesValuesKey",n.BaseClass=function(t){function e(t){var n,s=this;null==t&&(t={}),this.toString=l(this.toString,this),this._getPropertyValue=l(this._getPropertyValue,this),this._setPropertyValue=l(this._setPropertyValue,this),e.__super__.constructor.apply(this,arguments),this[o]={},null==(n=this.constructor)[r]&&(n[r]=0),this.constructor[r]+=1,this._id=this.constructor[r],a.map(this.constructor[i],function(e,n){return s[n]=u.valueOrDefault(t[n],s._getPropertyDefaultValue(n))})}return f(e,t),e.define=function(t,n){return this!==e&&n.exportable===!0&&(n.propertyName=t,null==this[i]&&(this[i]={}),this[i][t]=n),Object.defineProperty(this.prototype,t,n),Object.__},e.simpleProperty=function(t,e,n){return null==n&&(n=!0),{exportable:n,"default":e,get:function(){return this._getPropertyValue(t)},set:function(e){return this._setPropertyValue(t,e)}}},e.prototype._setPropertyValue=function(t,e){return this[o][t]=e},e.prototype._getPropertyValue=function(t){return u.valueOrDefault(this[o][t],this._getPropertyDefaultValue(t))},e.prototype._getPropertyDefaultValue=function(t){return this.constructor[i][t]["default"]},e.prototype._propertyList=function(){return this.constructor[i]},e.prototype.keys=function(){return a.keys(this.properties)},e.define("properties",{get:function(){var t,e,n,r;e={},r=this.constructor[i];for(t in r)n=r[t],n.exportable!==!1&&(e[t]=this[t]);return e},set:function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(this.constructor[i].hasOwnProperty(e)?this.constructor[i].exportable!==!1?this[e]=n:void 0:void 0);return r}}),e.define("id",{get:function(){return this._id}}),e.prototype.toString=function(){var t;return t=a.map(this.properties,function(t,e){return""+e+":"+t},4),"["+this.constructor.name+" id:"+this.id+" "+t.join(" ")+"]"},e}(s)},{"./EventEmitter":13,"./Underscore":23,"./Utils":24}],9:[function(t,e,n){var r,i,o,s,u,a,l,c,f={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=t("./Layer").Layer,l=function(t){return console.warn(t)},a=function(t,e){return{exportable:!1,get:function(){return l(""+e+" is a deprecated property"),this[t]},set:function(n){return l(""+e+" is a deprecated property"),this[t]=n}}},i=function(t){function e(t){null==t&&(t={}),t.hasOwnProperty("superView")&&(t.superLayer=t.superView),e.__super__.constructor.call(this,t)}var n,r;return p(e,t),e.define("superView",a("superLayer","superView")),e.define("subViews",a("subLayers","subViews")),e.define("siblingViews",a("siblingLayers","siblingViews")),n=function(t){return this.addSubLayer(t)},r=function(t){return this.removeSubLayer(t)},e}(u),s=function(t){function e(t){null==t&&(t={}),l("Views are now called Layers"),e.__super__.constructor.call(this,t)}return p(e,t),e}(i),r=function(t){function e(){return c=e.__super__.constructor.apply(this,arguments)}return p(e,t),e}(s),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.scroll=!0}return p(e,t),e}(s),window.Layer=i,window.Framer.Layer=i,window.View=s,window.ImageView=r,window.ScrollView=o,window.utils=window.Utils},{"./Layer":18}],10:[function(t,e,n){var r;r=t("./Utils"),n.Config={targetFPS:60,rootBaseCSS:{"-webkit-perspective":1e3},layerBaseCSS:{display:"block",position:"absolute","-webkit-box-sizing":"border-box","-webkit-user-select":"none","background-repeat":"no-repeat","background-size":"cover","-webkit-overflow-scrolling":"touch"}}},{"./Utils":24}],11:[function(t,e,n){var r,i,o,s,u,a,l,c,f;i=t("./Utils"),c=null,o=function(t){var e;return e=new Layer({frame:t.screenFrame(),backgroundColor:"rgba(50,150,200,.35)"}),e.style={textAlign:"center",color:"white",font:"10px/1em Monaco",lineHeight:""+(e.height+1)+"px",boxShadow:"inset 0 0 0 1px rgba(255,255,255,.5)"},e.html=t.name||t.id,e.on(Events.Click,function(t,e){return e.scale=.8,e.animate({properties:{scale:1},curve:"spring(1000,10,0)"})}),e},a=function(){return c=Layer.Layers().map(o)},u=function(){return c.map(function(t){return t.destroy()})},l=i.toggle(a,u),r={Shift:16,Escape:27},window.document.onkeyup=function(t){return t.keyCode===r.Escape?l()():void 0},f=null,s=function(){var t;if(!f)return t=new Layer({x:20,y:-50,width:300,height:40}),t.states.add({visible:{x:20,y:20,width:300,height:40}}),t.html="Javascript Error, see the console",t.style={font:"12px/1.35em Menlo",color:"white",textAlign:"center",lineHeight:""+t.height+"px",borderRadius:"5px",backgroundColor:"rgba(255,0,0,.8)"},t.states.animationOptions={curve:"spring",curveOptions:{tension:1e3,friction:30}},t.states["switch"]("visible"),t.on(Events.Click,function(){return this.states["switch"]("default")}),f=t},window.onerror=s},{"./Utils":24}],12:[function(t,e,n){var r,i,o;o=t("./Underscore")._,i=t("./Utils"),r={Layer:{backgroundColor:"rgba(0,124,255,.5)",width:100,height:100},Animation:{curve:"linear",time:1}},n.Defaults={getDefaults:function(t,e){var n,i,s,u;n=o.clone(r[t]),u=Framer.Defaults[t];for(i in u)s=u[i],n[i]=o.isFunction(s)?s():s;for(i in n)s=n[i],e.hasOwnProperty(i)||(e[i]=s);return e},reset:function(){return window.Framer.Defaults=o.clone(r)}}},{"./Underscore":23,"./Utils":24}],13:[function(t,e,n){var r,i,o=[].slice;i=t("./Underscore")._,r="_events",n.EventEmitter=function(){function t(){this[r]={}}return t.prototype._eventCheck=function(t,e){return t?void 0:console.warn(""+this.constructor.name+"."+e+" missing event (like 'click')")},t.prototype.emit=function(){var t,e,n,i,s,u,a;if(e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=(u=this[r])?u[e]:void 0)for(a=this[r][e],i=0,s=a.length;s>i;i++)n=a[i],n.apply(null,t)},t.prototype.addListener=function(t,e){var n;return this._eventCheck(t,"addListener"),null==this[r]&&(this[r]={}),null==(n=this[r])[t]&&(n[t]=[]),this[r][t].push(e)},t.prototype.removeListener=function(t,e){this._eventCheck(t,"removeListener"),this[r]&&this[r][t]&&(this[r][t]=i.without(this[r][t],e))},t.prototype.once=function(t,e){var n,r=this;return n=function(){return r.removeListener(t,n),e.apply(null,arguments)},this.on(t,n)},t.prototype.removeAllListeners=function(t){var e,n,i,o;if(this[r]&&this[r][t])for(o=this[r][t],n=0,i=o.length;i>n;n++)e=o[n],this.removeListener(t,e)},t.prototype.on=t.prototype.addListener,t.prototype.off=t.prototype.removeListener,t}()},{"./Underscore":23}],14:[function(t,e,n){var r,i,o;o=t("./Underscore")._,i=t("./Utils"),r={},i.isTouch()?(r.TouchStart="touchstart",r.TouchEnd="touchend",r.TouchMove="touchmove"):(r.TouchStart="mousedown",r.TouchEnd="mouseup",r.TouchMove="mousemove"),r.Click=r.TouchEnd,r.MouseOver="mouseover",r.MouseOut="mouseout",r.AnimationStart="start",r.AnimationStop="stop",r.AnimationEnd="end",r.Scroll="scroll",r.touchEvent=function(t){var e,n,r;return e=null!=(n=t.touches)?n[0]:void 0,null==e&&(e=null!=(r=t.changedTouches)?r[0]:void 0),null==e&&(e=t),e},n.Events=r},{"./Underscore":23,"./Utils":24}],15:[function(t,e,n){var r,i={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("./BaseClass").BaseClass,n.Frame=function(t){function e(t){var n,r,i,o;for(null==t&&(t={}),e.__super__.constructor.call(this,t),o=["minX","midX","maxX","minY","midY","maxY"],r=0,i=o.length;i>r;r++)n=o[r],t.hasOwnProperty(n)&&(this[n]=t[n])}return o(e,t),e.define("x",e.simpleProperty("x",0)),e.define("y",e.simpleProperty("y",0)),e.define("width",e.simpleProperty("width",0)),e.define("height",e.simpleProperty("height",0)),e.define("minX",e.simpleProperty("x",0,!1)),e.define("minY",e.simpleProperty("y",0,!1)),e.define("midX",{get:function(){return Utils.frameGetMidX(this)},set:function(t){return Utils.frameSetMidX(this,t)}}),e.define("maxX",{get:function(){return Utils.frameGetMaxX(this)},set:function(t){return Utils.frameSetMaxX(this,t)}}),e.define("midY",{get:function(){return Utils.frameGetMidY(this)},set:function(t){return Utils.frameSetMidY(this,t)}}),e.define("maxY",{get:function(){return Utils.frameGetMaxY(this)},set:function(t){return Utils.frameSetMaxY(this,t)}}),e}(r)},{"./BaseClass":8}],16:[function(t,e,n){var r,i,o;o=t("./Underscore")._,i={},i._=o,i.Utils=t("./Utils"),i.Frame=t("./Frame").Frame,i.Layer=t("./Layer").Layer,i.Events=t("./Events").Events,i.Animation=t("./Animation").Animation,window&&o.extend(window,i),i.Config=t("./Config").Config,i.EventEmitter=t("./EventEmitter").EventEmitter,i.BaseClass=t("./BaseClass").BaseClass,i.LayerStyle=t("./LayerStyle").LayerStyle,i.AnimationLoop=t("./AnimationLoop").AnimationLoop,i.LinearAnimator=t("./Animators/LinearAnimator").LinearAnimator,i.BezierCurveAnimator=t("./Animators/BezierCurveAnimator").BezierCurveAnimator,i.SpringDHOAnimator=t("./Animators/SpringDHOAnimator").SpringDHOAnimator,i.SpringRK4Animator=t("./Animators/SpringRK4Animator").SpringRK4Animator,i.Importer=t("./Importer").Importer,i.Debug=t("./Debug").Debug,i.Session=t("./Session").Session,window&&(window.Framer=i),t("./Compat"),r=t("./Defaults").Defaults,i.resetDefaults=r.reset,i.resetDefaults()},{"./Animation":1,"./AnimationLoop":2,"./Animators/BezierCurveAnimator":4,"./Animators/LinearAnimator":5,"./Animators/SpringDHOAnimator":6,"./Animators/SpringRK4Animator":7,"./BaseClass":8,"./Compat":9,"./Config":10,"./Debug":11,"./Defaults":12,"./EventEmitter":13,"./Events":14,"./Frame":15,"./Importer":17,"./Layer":18,"./LayerStyle":21,"./Session":22,"./Underscore":23,"./Utils":24}],17:[function(t,e,n){var r,i,o;o=t("./Underscore")._,i=t("./Utils"),r="Importing layers is currently only supported on Safari. If you really want it to work with Chrome quit it, open a terminal and run:\nopen -a Google Chrome -â€“allow-file-access-from-files",n.Importer=function(){function t(t,e){this.path=t,this.extraLayerProperties=null!=e?e:{},this.paths={layerInfo:i.pathJoin(this.path,"layers.json"),images:i.pathJoin(this.path,"images"),documentName:this.path.split("/").pop()},this._createdLayers=[],this._createdLayersByName={}}return t.prototype.load=function(){var t,e,n,r,i,o,s,u,a,l=this;for(n={},e=this._loadlayerInfo(),e.map(function(t){return l._createLayer(t)}),u=this._createdLayers,r=0,o=u.length;o>r;r++)t=u[r],this._correctLayer(t);for(a=this._createdLayers,i=0,s=a.length;s>i;i++)t=a[i],t.superLayer||(t.superLayer=null);return this._createdLayersByName},t.prototype._loadlayerInfo=function(){var t,e;return t=""+this.paths.documentName+"/layers.json.js",(null!=(e=window.__imported__)?e.hasOwnProperty(t):void 0)?window.__imported__[t]:Framer.Utils.domLoadJSONSync(this.paths.layerInfo)},t.prototype._createLayer=function(t,e){var n,r,s,u,a=this;return n=Layer,s={shadow:!0,name:t.name,frame:t.layerFrame,clip:!1,backgroundColor:null,visible:null!=(u=t.visible)?u:!0},o.extend(s,this.extraLayerProperties),t.image&&(s.frame=t.image.frame,s.image=i.pathJoin(this.path,t.image.path)),t.maskFrame&&(s.frame=t.maskFrame,s.clip=!0),(null!=e?e.contentLayer:void 0)?s.superLayer=e.contentLayer:e&&(s.superLayer=e),r=new n(s),r.name=s.name,r.image||t.children.length||t.maskFrame||(r.frame=new Frame),t.children.reverse().map(function(t){return a._createLayer(t,r)}),r.image||t.maskFrame||(r.frame=r.contentFrame()),r._info=t,this._createdLayers.push(r),this._createdLayersByName[r.name]=r},t.prototype._correctLayer=function(t){var e;return e=function(t){var n,r,o,s,u;for(t.superLayer&&(t.frame=i.convertPoint(t.frame,null,t.superLayer)),s=t.subLayers,u=[],r=0,o=s.length;o>r;r++)n=s[r],u.push(e(n));return u},t.superLayer?void 0:e(t)},t}(),n.Importer.load=function(t){var e;return e=new n.Importer(t),e.load()}},{"./Underscore":23,"./Utils":24}],18:[function(t,e,n){var r,i,o,s,u,a,l,c,f,p,h,m,d,y,g,v=function(t,e){return function(){return t.apply(e,arguments)}},_={}.hasOwnProperty,b=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},w=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},x=[].slice;g=t("./Underscore")._,h=t("./Utils"),o=t("./Config").Config,s=t("./Defaults").Defaults,p=t("./Session").Session,i=t("./BaseClass").BaseClass,u=t("./EventEmitter").EventEmitter,r=t("./Animation").Animation,a=t("./Frame").Frame,f=t("./LayerStyle").LayerStyle,c=t("./LayerStates").LayerStates,l=t("./LayerDraggable").LayerDraggable,p._RootElement=null,p._LayerList=[],d=function(t,e,n,r,i){return{exportable:!0,"default":n,get:function(){return this._getPropertyValue(t)},set:function(n){if(r(n)===!1)throw Error("value '"+n+"' of type "+typeof n+" is not valid for a Layer."+t+" property");return this._setPropertyValue(t,n),this.style[e]=f[e](this),this.emit("change:"+t,n),i?i(this,n):void 0}}},y=function(t){return{exportable:!0,get:function(){return this.style[t]},set:function(e){return this.style[t]=e,this.emit("change:"+t,e)}}},m=function(t){return{exportable:!1,get:function(){return this.frame[t]},set:function(e){var n;return n=this.frame,n[t]=e,this.frame=n}}},n.Layer=function(t){function e(t){var n;null==t&&(t={}),this.addListener=v(this.addListener,this),this.__insertElement=v(this.__insertElement,this),p._LayerList.push(this),this._createElement(),this._setDefaultCSS(),t=s.getDefaults("Layer",t),e.__super__.constructor.call(this,t),this._element.id="FramerLayer-"+this.id,n=new a(t.hasOwnProperty("frame")?t.frame:t),this.frame=n,t.superLayer?this.superLayer=t.superLayer:(this.bringToFront(),t.shadow||this._insertElement()),this._subLayers=[]}return b(e,t),e.define("width",d("width","width",100,g.isNumber)),e.define("height",d("height","height",100,g.isNumber)),e.define("visible",d("visible","display",!0,g.isBool)),e.define("opacity",d("opacity","opacity",1,g.isNumber)),e.define("index",d("index","zIndex",0,g.isNumber)),e.define("clip",d("clip","overflow",!0,g.isBool)),e.define("scrollHorizontal",d("scrollHorizontal","overflowX",!1,g.isBool,function(t,e){return e===!0?t.ignoreEvents=!1:void 0})),e.define("scrollVertical",d("scrollVertical","overflowY",!1,g.isBool,function(t,e){return e===!0?t.ignoreEvents=!1:void 0})),e.define("scroll",{get:function(){return this.scrollHorizontal===!0||this.scrollVertical===!0},set:function(t){return this.scrollHorizontal=this.scrollVertical=!0}}),e.define("ignoreEvents",d("ignoreEvents","pointerEvents",!0,g.isBool)),e.define("x",d("x","webkitTransform",0,g.isNumber)),e.define("y",d("y","webkitTransform",0,g.isNumber)),e.define("z",d("z","webkitTransform",0,g.isNumber)),e.define("scaleX",d("scaleX","webkitTransform",1,g.isNumber)),e.define("scaleY",d("scaleY","webkitTransform",1,g.isNumber)),e.define("scaleZ",d("scaleZ","webkitTransform",1,g.isNumber)),e.define("scale",d("scale","webkitTransform",1,g.isNumber)),e.define("originX",d("originX","webkitTransformOrigin",.5,g.isNumber)),e.define("originY",d("originY","webkitTransformOrigin",.5,g.isNumber)),e.define("rotationX",d("rotationX","webkitTransform",0,g.isNumber)),e.define("rotationY",d("rotationY","webkitTransform",0,g.isNumber)),e.define("rotationZ",d("rotationZ","webkitTransform",0,g.isNumber)),e.define("rotation",d("rotationZ","webkitTransform",0,g.isNumber)),e.define("blur",d("blur","webkitFilter",0,g.isNumber)),e.define("brightness",d("brightness","webkitFilter",100,g.isNumber)),e.define("saturate",d("saturate","webkitFilter",100,g.isNumber)),e.define("hueRotate",d("hueRotate","webkitFilter",0,g.isNumber)),e.define("contrast",d("contrast","webkitFilter",100,g.isNumber)),e.define("invert",d("invert","webkitFilter",0,g.isNumber)),e.define("grayscale",d("grayscale","webkitFilter",0,g.isNumber)),e.define("sepia",d("sepia","webkitFilter",0,g.isNumber)),e.define("backgroundColor",y("backgroundColor")),e.define("borderRadius",y("borderRadius")),e.define("borderColor",y("borderColor")),e.define("borderWidth",y("borderWidth")),e.define("name",{exportable:!0,"default":"",get:function(){return this._getPropertyValue("name")},set:function(t){return this._setPropertyValue("name",t),this._element.setAttribute("name",t)}}),e.define("frame",{get:function(){return new a(this)},set:function(t){var e,n,r,i,o;if(t){for(i=["x","y","width","height"],o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(this[e]=t[e]);return o}}}),e.define("minX",m("minX")),e.define("midX",m("midX")),e.define("maxX",m("maxX")),e.define("minY",m("minY")),e.define("midY",m("midY")),e.define("maxY",m("maxY")),e.prototype.convertPoint=function(t){return h.convertPoint(t,null,this)},e.prototype.screenFrame=function(){return h.convertPoint(this.frame,this,null)},e.prototype.contentFrame=function(){return h.frameMerge(this.subLayers.map(function(t){return t.frame.properties}))},e.prototype.centerFrame=function(){var t;return this.superLayer?(t=this.frame,t.midX=parseInt(this.superLayer.width/2),t.midY=parseInt(this.superLayer.height/2),t):(t=this.frame,t.midX=parseInt(window.innerWidth/2),t.midY=parseInt(window.innerHeight/2),t)},e.prototype.center=function(){return this.frame=this.centerFrame()},e.prototype.centerX=function(){return this.x=this.centerFrame().x},e.prototype.centerY=function(){return this.y=this.centerFrame().y},e.prototype.pixelAlign=function(){return this.x=parseInt(this.x),this.y=parseInt(this.y)},e.define("style",{get:function(){return this._element.style},set:function(t){return g.extend(this._element.style,t),this.emit("change:style")}}),e.define("html",{get:function(){var t;return null!=(t=this._elementHTML)?t.innerHTML:void 0},set:function(t){return this._elementHTML||(this._elementHTML=document.createElement("div"),this._element.appendChild(this._elementHTML)),this._elementHTML.innerHTML=t,(1!==this._elementHTML.childNodes.length||"#text"!==this._elementHTML.childNodes[0].nodeName)&&(this.ignoreEvents=!1),this.emit("change:html")}}),e.prototype.computedStyle=function(){return document.defaultView.getComputedStyle(this._element)},e.prototype._setDefaultCSS=function(){return this.style=o.layerBaseCSS},e.define("classList",{get:function(){return this._element.classList}}),e.prototype._createElement=function(){return null==this._element?this._element=document.createElement("div"):void 0},e.prototype._insertElement=function(){return h.domComplete(this.__insertElement)},e.prototype.__insertElement=function(){return p._RootElement||(p._RootElement=document.createElement("div"),p._RootElement.id="FramerRoot",g.extend(p._RootElement.style,o.rootBaseCSS),document.body.appendChild(p._RootElement)),p._RootElement.appendChild(this._element)},e.prototype.destroy=function(){var t;return this.superLayer&&(this.superLayer._subLayers=g.without(this.superLayer._subLayers,this)),null!=(t=this._element.parentNode)&&t.removeChild(this._element),this.removeAllListeners(),p._LayerList=g.without(p._LayerList,this)},e.prototype.copy=function(){var t,e,n,r,i,o;for(e=this.copySingle(),o=this.subLayers,r=0,i=o.length;i>r;r++)n=o[r],t=n.copy(),t.superLayer=e;return e},e.prototype.copySingle=function(){return new e(this.properties)},e.prototype.animate=function(t){var e;return t.layer=this,t.curveOptions=t,e=new r(t),e.start(),e},e.define("image",{exportable:!0,"default":"",get:function(){return this._getPropertyValue("image")},set:function(t){var e,n,r,i,o,s=this;return e=this._getPropertyValue("image"),e===t?this.emit("load"):(this.backgroundColor=null,this._setPropertyValue("image",t),n="prototype.framer/"+t,h.isLocal()&&(n+="?nocache="+Date.now()),(null!=(i=this.events)?i.hasOwnProperty("load"):void 0)?(r=new Image,r.name=n,r.src=n,r.onload=function(){return s.style["background-image"]="url('"+n+"')",s.emit("load",r)
},r.onerror=function(){return s.emit("error",r)}):this.style["background-image"]="url('"+n+"')")}}),e.define("superLayer",{exportable:!1,get:function(){return this._superLayer||null},set:function(t){if(t!==this._superLayer){if(!t instanceof e)throw Error("Layer.superLayer needs to be a Layer object");return h.domCompleteCancel(this.__insertElement),this._superLayer&&(this._superLayer._subLayers=g.without(this._superLayer._subLayers,this),this._superLayer._element.removeChild(this._element),this._superLayer.emit("change:subLayers",{added:[],removed:[this]})),t?(t._element.appendChild(this._element),t._subLayers.push(this),t.emit("change:subLayers",{added:[this],removed:[]})):this._insertElement(),this._superLayer=t,this.bringToFront(),this.emit("change:superLayer")}}}),e.prototype.superLayers=function(){var t,e;return e=[],t=function(n){return n.superLayer?(e.push(n.superLayer),t(n.superLayer)):void 0},t(this),e},e.define("subLayers",{exportable:!1,get:function(){return g.clone(this._subLayers)}}),e.define("siblingLayers",{exportable:!1,get:function(){var t=this;return null===this.superLayer?g.filter(p._LayerList,function(e){return e!==t&&null===e.superLayer}):g.without(this.superLayer.subLayers,this)}}),e.prototype.addSubLayer=function(t){return t.superLayer=this},e.prototype.removeSubLayer=function(t){return w.call(this.subLayers,t)<0?void 0:t.superLayer=null},e.prototype.subLayersByName=function(t){return g.filter(this.subLayers,function(e){return e.name===t})},e.prototype.animate=function(t){var e,n;return n=t.start,null==n&&(n=!0),delete t.start,t.layer=this,e=new r(t),n&&e.start(),e},e.prototype.animations=function(){var t=this;return g.filter(r.runningAnimations(),function(e){return e.options.layer===t})},e.prototype.animateStop=function(){return g.invoke(this.animations(),"stop")},e.prototype.bringToFront=function(){return this.index=g.max(g.union([0],this.siblingLayers.map(function(t){return t.index})))+1},e.prototype.sendToBack=function(){return this.index=g.min(g.union([0],this.siblingLayers.map(function(t){return t.index})))-1},e.prototype.placeBefore=function(t){var e,n,r,i;if(!(w.call(this.siblingLayers,t)<0)){for(i=this.siblingLayers,n=0,r=i.length;r>n;n++)e=i[n],e.index<=t.index&&(e.index-=1);return this.index=t.index+1}},e.prototype.placeBehind=function(t){var e,n,r,i;if(!(w.call(this.siblingLayers,t)<0)){for(i=this.siblingLayers,n=0,r=i.length;r>n;n++)e=i[n],e.index>=t.index&&(e.index+=1);return this.index=t.index-1}},e.define("states",{get:function(){return null!=this._states?this._states:this._states=new c(this)}}),e.define("draggable",{get:function(){return null==this._draggable&&(this._draggable=new l(this)),this._draggable}}),e.define("scrollFrame",{get:function(){return new a({x:this.scrollX,y:this.scrollY,width:this.width,height:this.height})},set:function(t){return this.scrollX=t.x,this.scrollY=t.y}}),e.define("scrollX",{get:function(){return this._element.scrollLeft},set:function(t){return this._element.scrollLeft=t}}),e.define("scrollY",{get:function(){return this._element.scrollTop},set:function(t){return this._element.scrollTop=t}}),e.prototype.addListener=function(t,n){var r,i,o=this;return r=function(){var t;return t=1<=arguments.length?x.call(arguments,0):[],n.call.apply(n,[o].concat(x.call(t),[o]))},n.modifiedListener=r,e.__super__.addListener.call(this,t,r),this._element.addEventListener(t,r),null==this._eventListeners&&(this._eventListeners={}),null==(i=this._eventListeners)[t]&&(i[t]=[]),this._eventListeners[t].push(r),this.ignoreEvents=!1},e.prototype.removeListener=function(t,n){return n.modifiedListener&&(n=n.modifiedListener),e.__super__.removeListener.call(this,t,n),this._element.removeEventListener(t,n),this._eventListeners?this._eventListeners[t]=g.without(this._eventListeners[t],n):void 0},e.prototype.removeAllListeners=function(){var t,e,n,r,i;if(this._eventListeners){r=this._eventListeners,i=[];for(t in r)n=r[t],i.push(function(){var r,i,o;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(this.removeListener(t,e));return o}.call(this));return i}},e.prototype.on=e.prototype.addListener,e.prototype.off=e.prototype.removeListener,e}(i),n.Layer.Layers=function(){return g.clone(p._LayerList)}},{"./Animation":1,"./BaseClass":8,"./Config":10,"./Defaults":12,"./EventEmitter":13,"./Frame":15,"./LayerDraggable":19,"./LayerStates":20,"./LayerStyle":21,"./Session":22,"./Underscore":23,"./Utils":24}],19:[function(t,e,n){var r,i,o,s,u=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("./Underscore")._,o=t("./Utils"),r=t("./EventEmitter").EventEmitter,i=t("./Events").Events,i.DragStart="dragstart",i.DragMove="dragmove",i.DragEnd="dragend",n.LayerDraggable=function(t){function e(t){this.layer=t,this._touchEnd=u(this._touchEnd,this),this._touchStart=u(this._touchStart,this),this._updatePosition=u(this._updatePosition,this),this._deltas=[],this._isDragging=!1,this.enabled=!0,this.speedX=1,this.speedY=1,this.maxDragFrame=null,this.attach()}return l(e,t),e.VelocityTimeOut=100,e.prototype.attach=function(){return this.layer.on(i.TouchStart,this._touchStart)},e.prototype.remove=function(){return this.layer.off(i.TouchStart,this._touchStart)},e.prototype.emit=function(t,n){return this.layer.emit(t,n),e.__super__.emit.call(this,t,n)},e.prototype.calculateVelocity=function(){var t,e,n,r,i;return this._deltas.length<2?{x:0,y:0}:(t=this._deltas.slice(-1)[0],e=this._deltas.slice(-2,-1)[0],n=t.t-e.t,r=(new Date).getTime()-e.t,r>this.VelocityTimeOut?{x:0,y:0}:(i={x:(t.x-e.x)/n,y:(t.y-e.y)/n},1/0===i.x&&(i.x=0),1/0===i.y&&(i.y=0),i))},e.prototype._updatePosition=function(t){var e,n,r,u,a,l,c,f,p,h,m=this;if(this.enabled!==!1)return this.emit(i.DragMove,t),h=i.touchEvent(t),n={x:h.clientX-this._start.x,y:h.clientY-this._start.y},e={x:n.x*this.speedX,y:n.y*this.speedY,t:t.timeStamp},f=this._start.x+e.x-this._offset.x,p=this._start.y+e.y-this._offset.y,this.maxDragFrame&&(r=this.maxDragFrame,s.isFunction(r)&&(r=r()),l=o.frameGetMinX(this.maxDragFrame),u=o.frameGetMaxX(this.maxDragFrame)-this.layer.width,c=o.frameGetMinY(this.maxDragFrame),a=o.frameGetMaxY(this.maxDragFrame)-this.layer.height,l>f&&(f=l),f>u&&(f=u),c>p&&(p=c),p>a&&(p=a)),window.requestAnimationFrame(function(){return m.layer.x=f,m.layer.y=p}),this._deltas.push(e),this.emit(i.DragMove,t)},e.prototype._touchStart=function(t){var e;return this.layer.animateStop(),this._isDragging=!0,e=i.touchEvent(t),this._start={x:e.clientX,y:e.clientY},this._offset={x:e.clientX-this.layer.x,y:e.clientY-this.layer.y},document.addEventListener(i.TouchMove,this._updatePosition),document.addEventListener(i.TouchEnd,this._touchEnd),this.emit(i.DragStart,t)},e.prototype._touchEnd=function(t){return this._isDragging=!1,document.removeEventListener(i.TouchMove,this._updatePosition),document.removeEventListener(i.TouchEnd,this._touchEnd),this.emit(i.DragEnd,t),this._deltas=[]},e}(r)},{"./EventEmitter":13,"./Events":14,"./Underscore":23,"./Utils":24}],20:[function(t,e,n){var r,i,o,s,u,a={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};u=t("./Underscore")._,o=t("./Events").Events,r=t("./BaseClass").BaseClass,i=t("./Defaults").Defaults,s=["ignoreEvents"],o.StateWillSwitch="willSwitch",o.StateDidSwitch="didSwitch",n.LayerStates=function(t){function e(t){this.layer=t,this._states={},this._orderedStates=[],this.animationOptions={},this.add("default",this.layer.properties),this._currentState="default",this._previousStates=[],e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.add=function(t,e){var n,r,i;{if(!u.isObject(t))return n=function(){throw Error('Usage example: layer.states.add("someName", {x:500})')},u.isString(t)||n(),u.isObject(e)||n(),this._orderedStates.push(t),this._states[t]=e;for(r in t)i=t[r],this.add(r,i)}},e.prototype.remove=function(t){return this._states.hasOwnProperty(t)?(delete this._states[t],this._orderedStates=u.without(this._orderedStates,t)):void 0},e.prototype["switch"]=function(t,e,n){var r,i,a,l,f,p=this;if(null==n&&(n=!1),!this._states.hasOwnProperty(t))throw Error("No such state: '"+t+"'");this.emit(o.StateWillSwitch,this._currentState,t,this),this._previousStates.push(this._currentState),this._currentState=t,i={},r=this.animatingKeys(),f=this._states[t];for(a in f)l=f[a],c.call(s,a)>=0||c.call(r,a)<0||(u.isFunction(l)&&(l=l.call(this.layer,this.layer,t)),i[a]=l);return n===!0?(this.layer.properties=i,this.emit(o.StateDidSwitch,u.last(this._previousStates),t,this)):(null==e&&(e=this.animationOptions),e.properties=i,this._animation=this.layer.animate(e),this._animation.on("stop",function(){return p.emit(o.StateDidSwitch,u.last(p._previousStates),t,p)}))},e.prototype.switchInstant=function(t){return this["switch"](t,null,!0)},e.define("state",{get:function(){return this._currentState}}),e.define("current",{get:function(){return this._currentState}}),e.prototype.states=function(){return u.clone(this._orderedStates)},e.prototype.animatingKeys=function(){var t,e,n,r;t=[],r=this._states;for(n in r)e=r[n],"default"!==n&&(t=u.union(t,u.keys(e)));return t},e.prototype.previous=function(t,e){return null==t&&(t=this.states()),this["switch"](Utils.arrayPrev(t,this._currentState),e)},e.prototype.next=function(){var t;return t=Utils.arrayFromArguments(arguments),t.length||(t=this.states()),this["switch"](Utils.arrayNext(t,this._currentState))},e.prototype.last=function(t){return this["switch"](u.last(this._previousStates),t)},e}(r)},{"./BaseClass":8,"./Defaults":12,"./Events":14,"./Underscore":23}],21:[function(t,e,n){var r,i;r=function(t,e){return""+Utils.round(t,2)+e},i=[["blur","blur",0,"px"],["brightness","brightness",100,"%"],["saturate","saturate",100,"%"],["hue-rotate","hueRotate",0,"deg"],["contrast","contrast",100,"%"],["invert","invert",0,"%"],["grayscale","grayscale",0,"%"],["sepia","sepia",0,"%"]],n.LayerStyle={width:function(t){return t.width+"px"},height:function(t){return t.height+"px"},display:function(t){return t.visible===!0?"block":"none"},opacity:function(t){return t.opacity},overflow:function(t){return t.scrollHorizontal===!0||t.scrollVertical===!0?"auto":t.clip===!0?"hidden":"visible"},overflowX:function(t){return t.scrollHorizontal===!0?"scroll":t.clip===!0?"hidden":"visible"},overflowY:function(t){return t.scrollVertical===!0?"scroll":t.clip===!0?"hidden":"visible"},zIndex:function(t){return t.index},webkitFilter:function(t){var e,n,o,s,u,a,l,c;for(e=[],a=0,l=i.length;l>a;a++)c=i[a],n=c[0],s=c[1],o=c[2],u=c[3],t[s]!==o&&e.push(""+n+"("+r(t[s],u)+")");return e.join(" ")},webkitTransform:function(t){return"		translate3d("+t.x+"px,"+t.y+"px,"+t.z+"px) 		scale("+t.scale+")		scale3d("+t.scaleX+","+t.scaleY+","+t.scaleZ+") 		rotateX("+t.rotationX+"deg) 		rotateY("+t.rotationY+"deg) 		rotateZ("+t.rotationZ+"deg) 		"},webkitTransformOrigin:function(t){return""+100*t.originX+"% "+100*t.originY+"%"},pointerEvents:function(t){return t.ignoreEvents?"none":"auto"}}},{}],22:[function(t,e,n){n.Session={}},{}],23:[function(t,e,n){var r;r=t("lodash"),r.str=t("underscore.string"),r.mixin(r.str.exports()),r.isBool=function(t){return"boolean"==typeof t},n._=r},{lodash:25,"underscore.string":26}],24:[function(require,module,exports){var Session,Utils,_,__domComplete,__domReady,__slice=[].slice,_this=this;_=require("./Underscore")._,Session=require("./Session").Session,Utils={},Utils.reset=function(){var t,e,n,r,i,o,s,u,a,l,c,f,p,h;if(__domReady!==!1){for(r=[],c=Session._LayerList,i=0,u=c.length;u>i;i++)n=c[i],n.removeAllListeners();if(Session._LayerList=[],null!=(f=Session._RootElement)&&(f.innerHTML=""),Session._delayTimers){for(p=Session._delayTimers,o=0,a=p.length;a>o;o++)e=p[o],clearTimeout(e);Session._delayTimers=[]}if(Session._delayIntervals){for(h=Session._delayIntervals,s=0,l=h.length;l>s;s++)t=h[s],clearInterval(t);return Session._delayIntervals=[]}}},Utils.getValue=function(t){return _.isFunction(t)?t():t},Utils.setDefaultProperties=function(t,e,n){var r,i,o;null==n&&(n=!0),i={};for(r in e)o=e[r],i[r]=t.hasOwnProperty(r)?t[r]:e[r];if(n)for(r in t)o=t[r],e.hasOwnProperty(r)||console.warn("Utils.setDefaultProperties: got unexpected option: '"+r+" -> "+o+"'",t);return i},Utils.valueOrDefault=function(t,e){return(void 0===t||null===t)&&(t=e),t},Utils.arrayToObject=function(t){var e,n,r,i;for(n={},r=0,i=t.length;i>r;r++)e=t[r],n[e[0]]=e[1];return n},Utils.arrayNext=function(t,e){return t[t.indexOf(e)+1]||_.first(t)},Utils.arrayPrev=function(t,e){return t[t.indexOf(e)-1]||_.last(t)},null==window.requestAnimationFrame&&(window.requestAnimationFrame=window.webkitRequestAnimationFrame),null==window.requestAnimationFrame&&(window.requestAnimationFrame=function(t){return Utils.delay(1/60,t)}),Utils.getTime=function(){return Date.now()/1e3},Utils.delay=function(t,e){var n;return n=setTimeout(e,1e3*t),null==Session._delayTimers&&(Session._delayTimers=[]),Session._delayTimers.push(n),n},Utils.interval=function(t,e){var n;return n=setInterval(e,1e3*t),null==Session._delayIntervals&&(Session._delayIntervals=[]),Session._delayIntervals.push(n),n},Utils.debounce=function(t,e,n){var r;return null==t&&(t=.1),r=null,t*=1e3,function(){var i,o,s;return i=1<=arguments.length?__slice.call(arguments,0):[],s=this,o=function(){return n||e.apply(s,i),r=null},r?clearTimeout(r):n&&e.apply(s,i),r=setTimeout(o,t)}},Utils.throttle=function(t,e){var n;return 0===t?e:(t*=1e3,n=!1,function(){return n?void 0:(n=!0,-1!==t&&setTimeout(function(){return n=!1},t),e.apply(null,arguments))})},Utils.randomColor=function(t){var e;return null==t&&(t=1),e=function(){return parseInt(255*Math.random())},"rgba("+e()+", "+e()+", "+e()+", "+t+")"},Utils.randomChoice=function(t){return t[Math.floor(Math.random()*t.length)]},Utils.randomNumber=function(t,e){return null==t&&(t=0),null==e&&(e=1),Utils.mapRange(Math.random(),0,1,t,e)},Utils.labelLayer=function(t,e,n){return null==n&&(n={}),n=_.extend({font:"10px/1em Menlo",lineHeight:""+t.height+"px",textAlign:"center",color:"#fff"},n),t.style=n,t.html=e},Utils.uuid=function(){var t,e,n,r,i,o;for(t="0123456789abcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),i=0,e=o=1;32>=o;e=++o)2>=i&&(i=33554432+16777216*Math.random()|0),r=15&i,i>>=4,n[e]=t[19===e?3&r|8:r];return n.join("")},Utils.arrayFromArguments=function(t){return _.isArray(t[0])?t[0]:Array.prototype.slice.call(t)},Utils.cycle=function(){var t,e;return t=Utils.arrayFromArguments(arguments),e=-1,function(){return e++,e>=t.length&&(e=0),t[e]}},Utils.toggle=Utils.cycle,Utils.isWebKit=function(){return null!==window.WebKitCSSMatrix},Utils.isTouch=function(){return null===window.ontouchstart},Utils.isMobile=function(){return/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())},Utils.isChrome=function(){return/chrome/.test(navigator.userAgent.toLowerCase())},Utils.isLocal=function(){return Utils.isLocalUrl(window.location.href)},Utils.isLocalUrl=function(t){return"file://"===t.slice(0,7)},Utils.devicePixelRatio=function(){return window.devicePixelRatio},Utils.pathJoin=function(){return Utils.arrayFromArguments(arguments).join("/")},Utils.round=function(t,e){var n;return n=Math.pow(10,e),Math.round(t*n)/n},Utils.mapRange=function(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)},Utils.modulate=function(t,e,n,r){var i,o,s,u,a;if(null==r&&(r=!1),o=e[0],i=e[1],a=n[0],u=n[1],s=a+(t-o)/(i-o)*(u-a),r===!0){if(a>s)return a;if(s>u)return u}return s},Utils.parseFunction=function(t){var e;return e={name:"",args:[]},_.endsWith(t,")")?(e.name=t.split("(")[0],e.args=t.split("(")[1].split(",").map(function(t){return _.trim(_.rtrim(t,")"))})):e.name=t,e},__domComplete=[],__domReady=!1,"undefined"!=typeof document&&null!==document&&(document.onreadystatechange=function(t){var e,n;if("complete"===document.readyState){for(__domReady=!0,n=[];__domComplete.length;)n.push(e=__domComplete.shift()());return n}}),Utils.domComplete=function(t){return"complete"===document.readyState?t():__domComplete.push(t)},Utils.domCompleteCancel=function(t){return __domComplete=_.without(__domComplete,t)},Utils.domLoadScript=function(t,e){var n,r;return r=document.createElement("script"),r.type="text/javascript",r.src=t,r.onload=e,n=document.getElementsByTagName("head")[0],n.appendChild(r),r},Utils.domLoadData=function(t,e){var n;return n=new XMLHttpRequest,n.addEventListener("load",function(){return e(null,n.responseText)},!1),n.addEventListener("error",function(){return e(!0,null)},!1),n.open("GET",t,!0),n.send(null)},Utils.domLoadJSON=function(t,e){return Utils.domLoadData(t,function(t,n){return e(t,JSON.parse(n))})},Utils.domLoadDataSync=function(t){var e,n,r;r=new XMLHttpRequest,r.open("GET",t,!1);try{r.send(null)}catch(i){n=i,console.debug("XMLHttpRequest.error",n)}if(e=r.responseText,!e)throw Error("Utils.domLoadDataSync: no data was loaded (url not found?)");return r.responseText},Utils.domLoadJSONSync=function(t){return JSON.parse(Utils.domLoadDataSync(t))},Utils.domLoadScriptSync=function(path){var scriptData;return scriptData=Utils.domLoadDataSync(path),eval(scriptData),scriptData},Utils.pointMin=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:_.min(t.map(function(t){return t.x})),y:_.min(t.map(function(t){return t.y}))}},Utils.pointMax=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:_.max(t.map(function(t){return t.x})),y:_.max(t.map(function(t){return t.y}))}},Utils.pointDistance=function(t,e){var n;return n={x:Math.abs(e.x-t.x),y:Math.abs(e.y-t.y)}},Utils.pointInvert=function(t){return t={x:0-t.x,y:0-t.y}},Utils.pointTotal=function(t){return t.x+t.y},Utils.pointAbs=function(t){return t={x:Math.abs(t.x),y:Math.abs(t.y)}},Utils.pointInFrame=function(t,e){return t.x<e.minX||t.x>e.maxX?!1:t.y<e.minY||t.y>e.maxY?!1:!0},Utils.sizeMin=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={width:_.min(e.map(function(t){return t.width})),height:_.min(e.map(function(t){return t.height}))}},Utils.sizeMax=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={width:_.max(e.map(function(t){return t.width})),height:_.max(e.map(function(t){return t.height}))}},Utils.frameGetMinX=function(t){return t.x},Utils.frameSetMinX=function(t,e){return t.x=e},Utils.frameGetMidX=function(t){return 0===t.width?0:t.x+t.width/2},Utils.frameSetMidX=function(t,e){return t.x=0===t.width?0:e-t.width/2},Utils.frameGetMaxX=function(t){return 0===t.width?0:t.x+t.width},Utils.frameSetMaxX=function(t,e){return t.x=0===t.width?0:e-t.width},Utils.frameGetMinY=function(t){return t.y},Utils.frameSetMinY=function(t,e){return t.y=e},Utils.frameGetMidY=function(t){return 0===t.height?0:t.y+t.height/2},Utils.frameSetMidY=function(t,e){return t.y=0===t.height?0:e-t.height/2},Utils.frameGetMaxY=function(t){return 0===t.height?0:t.y+t.height},Utils.frameSetMaxY=function(t,e){return t.y=0===t.height?0:e-t.height},Utils.frameSize=function(t){var e;return e={width:t.width,height:t.height}},Utils.framePoint=function(t){var e;return e={x:t.x,y:t.y}},Utils.frameMerge=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:_.min(e.map(Utils.frameGetMinX)),y:_.min(e.map(Utils.frameGetMinY))},t.width=_.max(e.map(Utils.frameGetMaxX))-t.x,t.height=_.max(e.map(Utils.frameGetMaxY))-t.y,t},Utils.convertPoint=function(t,e,n){var r,i,o,s,u,a,l,c,f,p,h,m;for(o={},m=["x","y","width","height"],a=0,f=m.length;f>a;a++)r=m[a],o[r]=t[r];for(s=(null!=e?e.superLayers():void 0)||[],u=(null!=n?n.superLayers():void 0)||[],n&&u.push(n),l=0,p=s.length;p>l;l++)i=s[l],o.x+=i.x-i.scrollFrame.x,o.y+=i.y-i.scrollFrame.y;for(c=0,h=u.length;h>c;c++)i=u[c],o.x-=i.x+i.scrollFrame.x,o.y-=i.y+i.scrollFrame.y;return o},_.extend(exports,Utils)},{"./Session":22,"./Underscore":23}],25:[function(t,e,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(){function t(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function i(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:b+n;return e=(e=e[r])&&e[i],"object"==r?e&&t(e,n)>-1?0:-1:e?0:-1}function o(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:b+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function s(t){return t.charCodeAt(0)}function u(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var s=n[i],u=r[i];if(s!==u){if(s>u||"undefined"==typeof s)return 1;if(u>s||"undefined"==typeof u)return-1}}return t.index-e.index}function a(t){var e=-1,n=t.length,r=t[0],i=t[n/2|0],s=t[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&s&&"object"==typeof s)return!1;var u=f();u["false"]=u["null"]=u["true"]=u.undefined=!1;var a=f();for(a.array=t,a.cache=u,a.push=o;++e<n;)a.push(t[e]);return a}function l(t){return"\\"+K[t]}function c(){return g.pop()||[]}function f(){return v.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function p(t){t.length=0,g.length<x&&g.push(t)}function h(t){var e=t.cache;e&&h(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,v.length<x&&v.push(t)}function m(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function d(e){function n(t){return t&&"object"==typeof t&&!Zr(t)&&Tr.call(t,"__wrapped__")?t:new r(t)}function r(t,e){this.__chain__=!!e,this.__wrapped__=t}function o(t){function e(){if(r){var t=m(r);Mr.apply(t,arguments)}if(this instanceof e){var o=v(n.prototype),s=n.apply(o,t||arguments);return Oe(s)?s:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return Jr(e,t),e}function g(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var s=Oe(t);if(!s)return t;var u=Er.call(t);if(!q[u])return t;var a=Wr[u];switch(u){case R:case B:return new a(+t);case Y:case H:return new a(t);case V:return o=a(t.source,A.exec(t)),o.lastIndex=t.lastIndex,o}var l=Zr(t);if(e){var f=!r;r||(r=c()),i||(i=c());for(var h=r.length;h--;)if(r[h]==t)return i[h];o=l?a(t.length):{}}else o=l?m(t):oi({},t);return l&&(Tr.call(t,"index")&&(o.index=t.index),Tr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(l?Ke:ai)(t,function(t,s){o[s]=g(t,e,n,r,i)}),f&&(p(r),p(i)),o):o}function v(t,e){return Oe(t)?Br(t):{}}function x(t,e,n){if("function"!=typeof t)return Zn;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(Kr.funcNames&&(r=!t.name),r=r||!Kr.funcDecomp,!r)){var i=Fr.call(t);Kr.funcNames||(r=!k.test(i)),r||(r=P.test(i),Jr(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Mn(t,e)}function K(t){function e(){var t=a?s:this;if(i){var h=m(i);Mr.apply(h,arguments)}if((o||c)&&(h||(h=m(arguments)),o&&Mr.apply(h,o),c&&h.length<u))return r|=16,K([n,f?r:-4&r,h,null,s,u]);if(h||(h=arguments),l&&(n=t[p]),this instanceof e){t=v(n.prototype);var d=n.apply(t,h);return Oe(d)?d:t}return n.apply(t,h)}var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=1&r,l=2&r,c=4&r,f=8&r,p=n;return Jr(e,t),e}function Z(e,n){var r=-1,o=ae(),s=e?e.length:0,u=s>=w&&o===t,l=[];if(u){var c=a(n);c?(o=i,n=c):u=!1}for(;++r<s;){var f=e[r];o(n,f)<0&&l.push(f)}return u&&h(n),l}function Q(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,s=[];++i<o;){var u=t[i];if(u&&"object"==typeof u&&"number"==typeof u.length&&(Zr(u)||pe(u))){e||(u=Q(u,e,n));var a=-1,l=u.length,c=s.length;for(s.length+=l;++a<l;)s[c++]=u[a]}else n||s.push(u)}return s}function te(t,e,n,r,i,o){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var u=typeof t,a=typeof e;if(!(t!==t||t&&W[u]||e&&W[a]))return!1;if(null==t||null==e)return t===e;var l=Er.call(t),f=Er.call(e);if(l==N&&(l=z),f==N&&(f=z),l!=f)return!1;switch(l){case R:case B:return+t==+e;case Y:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case V:case H:return t==xr(e)}var h=l==X;if(!h){var m=Tr.call(t,"__wrapped__"),d=Tr.call(e,"__wrapped__");if(m||d)return te(m?t.__wrapped__:t,d?e.__wrapped__:e,n,r,i,o);if(l!=z)return!1;var y=t.constructor,g=e.constructor;if(y!=g&&!(ke(y)&&y instanceof y&&ke(g)&&g instanceof g)&&"constructor"in t&&"constructor"in e)return!1}var v=!i;i||(i=c()),o||(o=c());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var b=0;if(s=!0,i.push(t),o.push(e),h){if(_=t.length,b=e.length,s=b==_,s||r)for(;b--;){var w=_,x=e[b];if(r)for(;w--&&!(s=te(t[w],x,n,r,i,o)););else if(!(s=te(t[b],x,n,r,i,o)))break}}else ui(e,function(e,u,a){return Tr.call(a,u)?(b++,s=Tr.call(t,u)&&te(t[u],e,n,r,i,o)):void 0}),s&&!r&&ui(t,function(t,e,n){return Tr.call(n,e)?s=--b>-1:void 0});return i.pop(),o.pop(),v&&(p(i),p(o)),s}function ee(t,e,n,r,i){(Zr(e)?Ke:ai)(e,function(e,o){var s,u,a=e,l=t[o];if(e&&((u=Zr(e))||li(e))){for(var c=r.length;c--;)if(s=r[c]==e){l=i[c];break}if(!s){var f;n&&(a=n(l,e),(f="undefined"!=typeof a)&&(l=a)),f||(l=u?Zr(l)?l:[]:li(l)?l:{}),r.push(e),i.push(l),f||ee(l,e,n,r,i)}}else n&&(a=n(l,e),"undefined"==typeof a&&(a=e)),"undefined"!=typeof a&&(l=a);t[o]=l})}function re(t,e){return t+Dr(Gr()*(e-t+1))}function ie(e,n,r){var o=-1,s=ae(),u=e?e.length:0,l=[],f=!n&&u>=w&&s===t,m=r||f?c():l;if(f){var d=a(m);s=i,m=d}for(;++o<u;){var y=e[o],g=r?r(y,o,e):y;(n?!o||m[m.length-1]!==g:s(m,g)<0)&&((r||f)&&m.push(g),l.push(y))}return f?(p(m.array),h(m)):r&&p(m),l}function oe(t){return function(e,r,i){var o={};r=n.createCallback(r,i,3);var s=-1,u=e?e.length:0;if("number"==typeof u)for(;++s<u;){var a=e[s];t(o,a,r(a,s,e),e)}else ai(e,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function se(t,e,n,r,i,s){var u=1&e,a=2&e,l=4&e,c=8&e,f=16&e,p=32&e;if(!a&&!ke(t))throw new Lr;f&&!n.length&&(e&=-17,f=n=!1),p&&!r.length&&(e&=-33,p=r=!1);var h=t&&t.__bindData__;if(h&&h!==!0)return h=m(h),h[2]&&(h[2]=m(h[2])),h[3]&&(h[3]=m(h[3])),!u||1&h[1]||(h[4]=i),!u&&1&h[1]&&(e|=8),!l||4&h[1]||(h[5]=s),f&&Mr.apply(h[2]||(h[2]=[]),n),p&&Xr.apply(h[3]||(h[3]=[]),r),h[1]|=e,se.apply(null,h);var d=1==e||17===e?o:K;return d([t,e,n,r,i,s])}function ue(t){return ei[t]}function ae(){var e=(e=n.indexOf)===vn?t:e;return e}function le(t){return"function"==typeof t&&Ar.test(t)}function ce(t){var e,n;return t&&Er.call(t)==z&&(e=t.constructor,!ke(e)||e instanceof e)?(ui(t,function(t,e){n=e}),"undefined"==typeof n||Tr.call(t,n)):!1}function fe(t){return ni[t]}function pe(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Er.call(t)==N||!1}function he(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),g(t,e,"function"==typeof n&&x(n,r,1))}function me(t,e,n){return g(t,!0,"function"==typeof e&&x(e,n,1))}function de(t,e){var n=v(t);return e?oi(n,e):n}function ye(t,e,r){var i;return e=n.createCallback(e,r,3),ai(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function ge(t,e,r){var i;return e=n.createCallback(e,r,3),_e(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function ve(t,e,n){var r=[];ui(t,function(t,e){r.push(e,t)});var i=r.length;for(e=x(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function _e(t,e,n){var r=ti(t),i=r.length;for(e=x(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function be(t){var e=[];return ui(t,function(t,n){ke(t)&&e.push(n)}),e.sort()}function we(t,e){return t?Tr.call(t,e):!1}function xe(t){for(var e=-1,n=ti(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function Le(t){return t===!0||t===!1||t&&"object"==typeof t&&Er.call(t)==R||!1}function Se(t){return t&&"object"==typeof t&&Er.call(t)==B||!1}function Ce(t){return t&&1===t.nodeType||!1}function Ue(t){var e=!0;if(!t)return e;var n=Er.call(t),r=t.length;return n==X||n==H||n==N||n==z&&"number"==typeof r&&ke(t.splice)?!r:(ai(t,function(){return e=!1}),e)}function Ee(t,e,n,r){return te(t,e,"function"==typeof n&&x(n,r,2))}function Ae(t){return Yr(t)&&!zr(parseFloat(t))}function ke(t){return"function"==typeof t}function Oe(t){return!(!t||!W[typeof t])}function De(t){return Pe(t)&&t!=+t}function Fe(t){return null===t}function Pe(t){return"number"==typeof t||t&&"object"==typeof t&&Er.call(t)==Y||!1}function Te(t){return t&&"object"==typeof t&&Er.call(t)==V||!1}function Me(t){return"string"==typeof t||t&&"object"==typeof t&&Er.call(t)==H||!1}function je(t){return"undefined"==typeof t}function Ne(t,e,r){var i={};return e=n.createCallback(e,r,3),ai(t,function(t,n,r){i[n]=e(t,n,r)}),i}function Xe(t){var e=arguments,n=2;if(!Oe(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=x(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=m(arguments,1,n),o=-1,s=c(),u=c();++o<n;)ee(t,i[o],r,s,u);return p(s),p(u),t}function Re(t,e,r){var i={};if("function"!=typeof e){var o=[];ui(t,function(t,e){o.push(e)}),o=Z(o,Q(arguments,!0,!1,1));for(var s=-1,u=o.length;++s<u;){var a=o[s];i[a]=t[a]}}else e=n.createCallback(e,r,3),ui(t,function(t,n,r){e(t,n,r)||(i[n]=t)});return i}function Be(t){for(var e=-1,n=ti(t),r=n.length,i=mr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Ie(t,e,r){var i={};if("function"!=typeof e)for(var o=-1,s=Q(arguments,!0,!1,1),u=Oe(t)?s.length:0;++o<u;){var a=s[o];a in t&&(i[a]=t[a])}else e=n.createCallback(e,r,3),ui(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i}function Ye(t,e,r,i){var o=Zr(t);if(null==r)if(o)r=[];else{var s=t&&t.constructor,u=s&&s.prototype;r=v(u)}return e&&(e=n.createCallback(e,i,4),(o?Ke:ai)(t,function(t,n,i){return e(r,t,n,i)})),r}function ze(t){for(var e=-1,n=ti(t),r=n.length,i=mr(r);++e<r;)i[e]=t[n[e]];return i}function Ve(t){for(var e=arguments,n=-1,r=Q(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=mr(i);++n<i;)o[n]=t[r[n]];return o}function He(t,e,n){var r=-1,i=ae(),o=t?t.length:0,s=!1;return n=(0>n?Hr(0,o+n):n)||0,Zr(t)?s=i(t,e,n)>-1:"number"==typeof o?s=(Me(t)?t.indexOf(e,n):i(t,e,n))>-1:ai(t,function(t){return++r>=n?!(s=t===e):void 0}),s}function qe(t,e,r){var i=!0;e=n.createCallback(e,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&(i=!!e(t[o],o,t)););else ai(t,function(t,n,r){return i=!!e(t,n,r)});return i}function $e(t,e,r){var i=[];e=n.createCallback(e,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var u=t[o];e(u,o,t)&&i.push(u)}else ai(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function Ge(t,e,r){e=n.createCallback(e,r,3);var i=-1,o=t?t.length:0;if("number"!=typeof o){var s;return ai(t,function(t,n,r){return e(t,n,r)?(s=t,!1):void 0}),s}for(;++i<o;){var u=t[i];if(e(u,i,t))return u}}function We(t,e,r){var i;return e=n.createCallback(e,r,3),Je(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function Ke(t,e,n){var r=-1,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:x(e,n,3),"number"==typeof i)for(;++r<i&&e(t[r],r,t)!==!1;);else ai(t,e);return t}function Je(t,e,n){var r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:x(e,n,3),"number"==typeof r)for(;r--&&e(t[r],r,t)!==!1;);else{var i=ti(t);r=i.length,ai(t,function(t,n,o){return n=i?i[--r]:--r,e(o[n],n,o)})}return t}function Ze(t,e){var n=m(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,s=mr("number"==typeof o?o:0);return Ke(t,function(t){s[++r]=(i?e:t[e]).apply(t,n)}),s}function Qe(t,e,r){var i=-1,o=t?t.length:0;if(e=n.createCallback(e,r,3),"number"==typeof o)for(var s=mr(o);++i<o;)s[i]=e(t[i],i,t);else s=[],ai(t,function(t,n,r){s[++i]=e(t,n,r)});return s}function tn(t,e,r){var i=-1/0,o=i;if("function"!=typeof e&&r&&r[e]===t&&(e=null),null==e&&Zr(t))for(var u=-1,a=t.length;++u<a;){var l=t[u];l>o&&(o=l)}else e=null==e&&Me(t)?s:n.createCallback(e,r,3),Ke(t,function(t,n,r){var s=e(t,n,r);s>i&&(i=s,o=t)
});return o}function en(t,e,r){var i=1/0,o=i;if("function"!=typeof e&&r&&r[e]===t&&(e=null),null==e&&Zr(t))for(var u=-1,a=t.length;++u<a;){var l=t[u];o>l&&(o=l)}else e=null==e&&Me(t)?s:n.createCallback(e,r,3),Ke(t,function(t,n,r){var s=e(t,n,r);i>s&&(i=s,o=t)});return o}function nn(t,e,r,i){if(!t)return r;var o=arguments.length<3;e=n.createCallback(e,i,4);var s=-1,u=t.length;if("number"==typeof u)for(o&&(r=t[++s]);++s<u;)r=e(r,t[s],s,t);else ai(t,function(t,n,i){r=o?(o=!1,t):e(r,t,n,i)});return r}function rn(t,e,r,i){var o=arguments.length<3;return e=n.createCallback(e,i,4),Je(t,function(t,n,i){r=o?(o=!1,t):e(r,t,n,i)}),r}function on(t,e,r){return e=n.createCallback(e,r,3),$e(t,function(t,n,r){return!e(t,n,r)})}function sn(t,e,n){if(t&&"number"!=typeof t.length&&(t=ze(t)),null==e||n)return t?t[re(0,t.length-1)]:y;var r=un(t);return r.length=qr(Hr(0,e),r.length),r}function un(t){var e=-1,n=t?t.length:0,r=mr("number"==typeof n?n:0);return Ke(t,function(t){var n=re(0,++e);r[e]=r[n],r[n]=t}),r}function an(t){var e=t?t.length:0;return"number"==typeof e?e:ti(t).length}function ln(t,e,r){var i;e=n.createCallback(e,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&!(i=e(t[o],o,t)););else ai(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function cn(t,e,r){var i=-1,o=Zr(e),s=t?t.length:0,a=mr("number"==typeof s?s:0);for(o||(e=n.createCallback(e,r,3)),Ke(t,function(t,n,r){var s=a[++i]=f();o?s.criteria=Qe(e,function(e){return t[e]}):(s.criteria=c())[0]=e(t,n,r),s.index=i,s.value=t}),s=a.length,a.sort(u);s--;){var l=a[s];a[s]=l.value,o||p(l.criteria),h(l)}return a}function fn(t){return t&&"number"==typeof t.length?m(t):ze(t)}function pn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function hn(t){return Z(t,Q(arguments,!0,!0,1))}function mn(t,e,r){var i=-1,o=t?t.length:0;for(e=n.createCallback(e,r,3);++i<o;)if(e(t[i],i,t))return i;return-1}function dn(t,e,r){var i=t?t.length:0;for(e=n.createCallback(e,r,3);i--;)if(e(t[i],i,t))return i;return-1}function yn(t,e,r){var i=0,o=t?t.length:0;if("number"!=typeof e&&null!=e){var s=-1;for(e=n.createCallback(e,r,3);++s<o&&e(t[s],s,t);)i++}else if(i=e,null==i||r)return t?t[0]:y;return m(t,0,qr(Hr(0,i),o))}function gn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=Qe(t,n,r)),Q(t,e)}function vn(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?Hr(0,i+r):r||0}else if(r){var o=En(e,n);return e[o]===n?o:-1}return t(e,n,r)}function _n(t,e,r){var i=0,o=t?t.length:0;if("number"!=typeof e&&null!=e){var s=o;for(e=n.createCallback(e,r,3);s--&&e(t[s],s,t);)i++}else i=null==e||r?1:e||i;return m(t,0,qr(Hr(0,o-i),o))}function bn(){for(var e=[],n=-1,r=arguments.length,o=c(),s=ae(),u=s===t,l=c();++n<r;){var f=arguments[n];(Zr(f)||pe(f))&&(e.push(f),o.push(u&&f.length>=w&&a(n?e[n]:l)))}var m=e[0],d=-1,y=m?m.length:0,g=[];t:for(;++d<y;){var v=o[0];if(f=m[d],(v?i(v,f):s(l,f))<0){for(n=r,(v||l).push(f);--n;)if(v=o[n],(v?i(v,f):s(e[n],f))<0)continue t;g.push(f)}}for(;r--;)v=o[r],v&&h(v);return p(o),p(l),g}function wn(t,e,r){var i=0,o=t?t.length:0;if("number"!=typeof e&&null!=e){var s=o;for(e=n.createCallback(e,r,3);s--&&e(t[s],s,t);)i++}else if(i=e,null==i||r)return t?t[o-1]:y;return m(t,Hr(0,o-i))}function xn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?Hr(0,r+n):qr(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function Ln(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,s=e[n];++o<i;)t[o]===s&&(Nr.call(t,o--,1),i--);return t}function Sn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=Hr(0,kr((e-t)/(n||1))),o=mr(i);++r<i;)o[r]=t,t+=n;return o}function Cn(t,e,r){var i=-1,o=t?t.length:0,s=[];for(e=n.createCallback(e,r,3);++i<o;){var u=t[i];e(u,i,t)&&(s.push(u),Nr.call(t,i--,1),o--)}return s}function Un(t,e,r){if("number"!=typeof e&&null!=e){var i=0,o=-1,s=t?t.length:0;for(e=n.createCallback(e,r,3);++o<s&&e(t[o],o,t);)i++}else i=null==e||r?1:Hr(0,e);return m(t,i)}function En(t,e,r,i){var o=0,s=t?t.length:o;for(r=r?n.createCallback(r,i,1):Zn,e=r(e);s>o;){var u=o+s>>>1;r(t[u])<e?o=u+1:s=u}return o}function An(){return ie(Q(arguments,!0,!0))}function kn(t,e,r,i){return"boolean"!=typeof e&&null!=e&&(i=r,r="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=r&&(r=n.createCallback(r,i,3)),ie(t,e,r)}function On(t){return Z(t,m(arguments,1))}function Dn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Zr(n)||pe(n))var r=r?ie(Z(r,n).concat(Z(n,r))):n}return r||[]}function Fn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?tn(hi(t,"length")):0,r=mr(0>n?0:n);++e<n;)r[e]=hi(t,e);return r}function Pn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||Zr(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Tn(t,e){if(!ke(e))throw new Lr;return function(){return--t<1?e.apply(this,arguments):void 0}}function Mn(t,e){return arguments.length>2?se(t,17,m(arguments,2),null,e):se(t,1,null,null,e)}function jn(t){for(var e=arguments.length>1?Q(arguments,!0,!1,1):be(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=se(t[i],1,null,null,t)}return t}function Nn(t,e){return arguments.length>2?se(e,19,m(arguments,2),null,t):se(e,3,null,null,t)}function Xn(){for(var t=arguments,e=t.length;e--;)if(!ke(t[e]))throw new Lr;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Rn(t,e){return e="number"==typeof e?e:+e||t.length,se(t,4,null,null,null,e)}function Bn(t,e,n){var r,i,o,s,u,a,l,c=0,f=!1,p=!0;if(!ke(t))throw new Lr;if(e=Hr(0,e)||0,n===!0){var h=!0;p=!1}else Oe(n)&&(h=n.leading,f="maxWait"in n&&(Hr(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var m=function(){var n=e-(di()-s);if(0>=n){i&&Or(i);var f=l;i=a=l=y,f&&(c=di(),o=t.apply(u,r),a||i||(r=u=null))}else a=jr(m,n)},d=function(){a&&Or(a),i=a=l=y,(p||f!==e)&&(c=di(),o=t.apply(u,r),a||i||(r=u=null))};return function(){if(r=arguments,s=di(),u=this,l=p&&(a||!h),f===!1)var n=h&&!a;else{i||h||(c=s);var y=f-(s-c),g=0>=y;g?(i&&(i=Or(i)),c=s,o=t.apply(u,r)):i||(i=jr(d,y))}return g&&a?a=Or(a):a||e===f||(a=jr(m,e)),n&&(g=!0,o=t.apply(u,r)),!g||a||i||(r=u=null),o}}function In(t){if(!ke(t))throw new Lr;var e=m(arguments,1);return jr(function(){t.apply(y,e)},1)}function Yn(t,e){if(!ke(t))throw new Lr;var n=m(arguments,2);return jr(function(){t.apply(y,n)},e)}function zn(t,e){if(!ke(t))throw new Lr;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):b+arguments[0];return Tr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Vn(t){var e,n;if(!ke(t))throw new Lr;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Hn(t){return se(t,16,m(arguments,1))}function qn(t){return se(t,32,null,m(arguments,1))}function $n(t,e,n){var r=!0,i=!0;if(!ke(t))throw new Lr;return n===!1?r=!1:Oe(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),$.leading=r,$.maxWait=e,$.trailing=i,Bn(t,e,$)}function Gn(t,e){return se(e,16,[t])}function Wn(t){return function(){return t}}function Kn(t,e,n){var r=typeof t;if(null==t||"function"==r)return x(t,e,n);if("object"!=r)return nr(t);var i=ti(t),o=i[0],s=t[o];return 1!=i.length||s!==s||Oe(s)?function(e){for(var n=i.length,r=!1;n--&&(r=te(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function Jn(t){return null==t?"":xr(t).replace(ii,ue)}function Zn(t){return t}function Qn(t,e,i){var o=!0,s=e&&be(e);e&&(i||s.length)||(null==i&&(i=e),u=r,e=t,t=n,s=be(e)),i===!1?o=!1:Oe(i)&&"chain"in i&&(o=i.chain);var u=t,a=ke(u);Ke(s,function(n){var r=t[n]=e[n];a&&(u.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,i=[n];Mr.apply(i,arguments);var s=r.apply(t,i);if(o||e){if(n===s&&Oe(s))return this;s=new u(s),s.__chain__=e}return s})})}function tr(){return e._=Ur,this}function er(){}function nr(t){return function(e){return e[t]}}function rr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Gr();return qr(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return re(t,e)}function ir(t,e){if(t){var n=t[e];return ke(n)?t[e]():n}}function or(t,e,r){var i=n.templateSettings;t=xr(t||""),r=si({},r,i);var o=si({},r.imports,i.imports),s=ti(o),u=ze(o),a,c=0,f=r.interpolate||F,p="__p += '",h=wr((r.escape||F).source+"|"+f.source+"|"+(f===O?E:F).source+"|"+(r.evaluate||F).source+"|$","g");t.replace(h,function(e,n,r,i,o,s){return r||(r=i),p+=t.slice(c,s).replace(T,l),n&&(p+="' +\n__e("+n+") +\n'"),o&&(a=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),p+="';\n";var m=r.variable,d=m;d||(m="obj",p="with ("+m+") {\n"+p+"\n}\n"),p=(a?p.replace(S,""):p).replace(C,"$1").replace(U,"$1;"),p="function("+m+") {\n"+(d?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+j++ +"]")+"\n*/";try{var v=gr(s,"return "+p+g).apply(y,u)}catch(_){throw _.source=p,_}return e?v(e):(v.source=p,v)}function sr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=mr(t);for(e=x(e,n,1);++r<t;)i[r]=e(r);return i}function ur(t){return null==t?"":xr(t).replace(ri,fe)}function ar(t){var e=++_;return xr(null==t?"":t)+e}function lr(t){return t=new r(t),t.__chain__=!0,t}function cr(t,e){return e(t),t}function fr(){return this.__chain__=!0,this}function pr(){return xr(this.__wrapped__)}function hr(){return this.__wrapped__}e=e?ne.defaults(J.Object(),e,ne.pick(J,M)):J;var mr=e.Array,dr=e.Boolean,yr=e.Date,gr=e.Function,vr=e.Math,_r=e.Number,br=e.Object,wr=e.RegExp,xr=e.String,Lr=e.TypeError,Sr=[],Cr=br.prototype,Ur=e._,Er=Cr.toString,Ar=wr("^"+xr(Er).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),kr=vr.ceil,Or=e.clearTimeout,Dr=vr.floor,Fr=gr.prototype.toString,Pr=le(Pr=br.getPrototypeOf)&&Pr,Tr=Cr.hasOwnProperty,Mr=Sr.push,jr=e.setTimeout,Nr=Sr.splice,Xr=Sr.unshift,Rr=function(){try{var t={},e=le(e=br.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Br=le(Br=br.create)&&Br,Ir=le(Ir=mr.isArray)&&Ir,Yr=e.isFinite,zr=e.isNaN,Vr=le(Vr=br.keys)&&Vr,Hr=vr.max,qr=vr.min,$r=e.parseInt,Gr=vr.random,Wr={};Wr[X]=mr,Wr[R]=dr,Wr[B]=yr,Wr[I]=gr,Wr[z]=br,Wr[Y]=_r,Wr[V]=wr,Wr[H]=xr,r.prototype=n.prototype;var Kr=n.support={};Kr.funcDecomp=!le(e.WinRTError)&&P.test(d),Kr.funcNames="string"==typeof gr.name,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:O,variable:"",imports:{_:n}},Br||(v=function(){function t(){}return function(n){if(Oe(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var Jr=Rr?function(t,e){G.value=e,Rr(t,"__bindData__",G)}:er,Zr=Ir||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Er.call(t)==X||!1},Qr=function(t){var e,n=t,r=[];if(!n)return r;if(!W[typeof t])return r;for(e in n)Tr.call(n,e)&&r.push(e);return r},ti=Vr?function(t){return Oe(t)?Vr(t):[]}:Qr,ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=xe(ei),ri=wr("("+ti(ni).join("|")+")","g"),ii=wr("["+ti(ei).join("")+"]","g"),oi=function(t,e,n){var r,i=t,o=i;if(!i)return o;var s=arguments,u=0,a="number"==typeof n?2:s.length;if(a>3&&"function"==typeof s[a-2])var l=x(s[--a-1],s[a--],2);else a>2&&"function"==typeof s[a-1]&&(l=s[--a]);for(;++u<a;)if(i=s[u],i&&W[typeof i])for(var c=-1,f=W[typeof i]&&ti(i),p=f?f.length:0;++c<p;)r=f[c],o[r]=l?l(o[r],i[r]):i[r];return o},si=function(t,e,n){var r,i=t,o=i;if(!i)return o;for(var s=arguments,u=0,a="number"==typeof n?2:s.length;++u<a;)if(i=s[u],i&&W[typeof i])for(var l=-1,c=W[typeof i]&&ti(i),f=c?c.length:0;++l<f;)r=c[l],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ui=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!W[typeof i])return o;e=e&&"undefined"==typeof n?e:x(e,n,3);for(r in i)if(e(i[r],r,t)===!1)return o;return o},ai=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!W[typeof i])return o;e=e&&"undefined"==typeof n?e:x(e,n,3);for(var s=-1,u=W[typeof i]&&ti(i),a=u?u.length:0;++s<a;)if(r=u[s],e(i[r],r,t)===!1)return o;return o},li=Pr?function(t){if(!t||Er.call(t)!=z)return!1;var e=t.valueOf,n=le(e)&&(n=Pr(e))&&Pr(n);return n?t==n||Pr(t)==n:ce(t)}:ce,ci=oe(function(t,e,n){Tr.call(t,n)?t[n]++:t[n]=1}),fi=oe(function(t,e,n){(Tr.call(t,n)?t[n]:t[n]=[]).push(e)}),pi=oe(function(t,e,n){t[n]=e}),hi=Qe,mi=$e,di=le(di=yr.now)&&di||function(){return(new yr).getTime()},yi=8==$r(L+"08")?$r:function(t,e){return $r(Me(t)?t.replace(D,""):t,e||0)};return n.after=Tn,n.assign=oi,n.at=Ve,n.bind=Mn,n.bindAll=jn,n.bindKey=Nn,n.chain=lr,n.compact=pn,n.compose=Xn,n.constant=Wn,n.countBy=ci,n.create=de,n.createCallback=Kn,n.curry=Rn,n.debounce=Bn,n.defaults=si,n.defer=In,n.delay=Yn,n.difference=hn,n.filter=$e,n.flatten=gn,n.forEach=Ke,n.forEachRight=Je,n.forIn=ui,n.forInRight=ve,n.forOwn=ai,n.forOwnRight=_e,n.functions=be,n.groupBy=fi,n.indexBy=pi,n.initial=_n,n.intersection=bn,n.invert=xe,n.invoke=Ze,n.keys=ti,n.map=Qe,n.mapValues=Ne,n.max=tn,n.memoize=zn,n.merge=Xe,n.min=en,n.omit=Re,n.once=Vn,n.pairs=Be,n.partial=Hn,n.partialRight=qn,n.pick=Ie,n.pluck=hi,n.property=nr,n.pull=Ln,n.range=Sn,n.reject=on,n.remove=Cn,n.rest=Un,n.shuffle=un,n.sortBy=cn,n.tap=cr,n.throttle=$n,n.times=sr,n.toArray=fn,n.transform=Ye,n.union=An,n.uniq=kn,n.values=ze,n.where=mi,n.without=On,n.wrap=Gn,n.xor=Dn,n.zip=Fn,n.zipObject=Pn,n.collect=Qe,n.drop=Un,n.each=Ke,n.eachRight=Je,n.extend=oi,n.methods=be,n.object=Pn,n.select=$e,n.tail=Un,n.unique=kn,n.unzip=Fn,Qn(n),n.clone=he,n.cloneDeep=me,n.contains=He,n.escape=Jn,n.every=qe,n.find=Ge,n.findIndex=mn,n.findKey=ye,n.findLast=We,n.findLastIndex=dn,n.findLastKey=ge,n.has=we,n.identity=Zn,n.indexOf=vn,n.isArguments=pe,n.isArray=Zr,n.isBoolean=Le,n.isDate=Se,n.isElement=Ce,n.isEmpty=Ue,n.isEqual=Ee,n.isFinite=Ae,n.isFunction=ke,n.isNaN=De,n.isNull=Fe,n.isNumber=Pe,n.isObject=Oe,n.isPlainObject=li,n.isRegExp=Te,n.isString=Me,n.isUndefined=je,n.lastIndexOf=xn,n.mixin=Qn,n.noConflict=tr,n.noop=er,n.now=di,n.parseInt=yi,n.random=rr,n.reduce=nn,n.reduceRight=rn,n.result=ir,n.runInContext=d,n.size=an,n.some=ln,n.sortedIndex=En,n.template=or,n.unescape=ur,n.uniqueId=ar,n.all=qe,n.any=ln,n.detect=Ge,n.findWhere=Ge,n.foldl=nn,n.foldr=rn,n.include=He,n.inject=nn,Qn(function(){var t={};return ai(n,function(e,r){n.prototype[r]||(t[r]=e)}),t}(),!1),n.first=yn,n.last=wn,n.sample=sn,n.take=yn,n.head=yn,ai(n,function(t,e){var i="sample"!==e;n.prototype[e]||(n.prototype[e]=function(e,n){var o=this.__chain__,s=t(this.__wrapped__,e,n);return o||null!=e&&(!n||i&&"function"==typeof e)?new r(s,o):s})}),n.VERSION="2.4.1",n.prototype.chain=fr,n.prototype.toString=pr,n.prototype.value=hr,n.prototype.valueOf=hr,Ke(["join","pop","shift"],function(t){var e=Sr[t];n.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new r(n,t):n}}),Ke(["push","reverse","sort","unshift"],function(t){var e=Sr[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Ke(["concat","slice","splice"],function(t){var e=Sr[t];n.prototype[t]=function(){return new r(e.apply(this.__wrapped__,arguments),this.__chain__)}}),n}var y,g=[],v=[],_=0,b=+new Date+"",w=75,x=40,L=" 	\fÂ ï»¿\n\r\u2028\u2029áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€",S=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,k=/^\s*function[ \n\r\t]+\w/,O=/<%=([\s\S]+?)%>/g,D=RegExp("^["+L+"]*0+(?=.$)"),F=/($^)/,P=/\bthis\b/,T=/['\n\r\t\u2028\u2029\\]/g,M=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,N="[object Arguments]",X="[object Array]",R="[object Boolean]",B="[object Date]",I="[object Function]",Y="[object Number]",z="[object Object]",V="[object RegExp]",H="[object String]",q={};q[I]=!1,q[N]=q[X]=q[R]=q[B]=q[Y]=q[z]=q[V]=q[H]=!0;var $={leading:!1,maxWait:0,trailing:!1},G={configurable:!1,enumerable:!1,value:null,writable:!1},W={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=W[typeof window]&&window||this,Z=W[typeof n]&&n&&!n.nodeType&&n,Q=W[typeof e]&&e&&!e.nodeType&&e,te=Q&&Q.exports===Z&&Z,ee=W[typeof r]&&r;!ee||ee.global!==ee&&ee.window!==ee||(J=ee);var ne=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=ne,define(function(){return ne})):Z&&Q?te?(Q.exports=ne)._=ne:Z._=ne:J._=ne}).call(this)},{}],26:[function(t,e,n){!function(t,r){"use strict";function i(t,e){var n,r,i=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n]){if(r.test&&r.test(t))return!0;if(r.toLowerCase()===i)return!0}}var o=r.prototype.trim,s=r.prototype.trimRight,u=r.prototype.trimLeft,a=function(t){return 1*t||0},l=function(t,e){if(1>e)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n},c=[].slice,f=function(t){return null==t?"\\s":t.source?t.source:"["+y.escapeRegExp(t)+"]"},p={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},h={};for(var m in p)h[p[m]]=m;h["'"]="#39";var d=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var e=l,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var o=1,s=n.length,u="",a,l=[],c,f,p,h,m,y;for(c=0;s>c;c++)if(u=t(n[c]),"string"===u)l.push(n[c]);else if("array"===u){if(p=n[c],p[2])for(a=i[o],f=0;f<p[2].length;f++){if(!a.hasOwnProperty(p[2][f]))throw new Error(d('[_.sprintf] property "%s" does not exist',p[2][f]));a=a[p[2][f]]}else a=p[1]?i[p[1]]:i[o++];if(/[^s]/.test(p[8])&&"number"!=t(a))throw new Error(d("[_.sprintf] expecting number but found %s",t(a)));switch(p[8]){case"b":a=a.toString(2);break;case"c":a=r.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=p[7]?a.toExponential(p[7]):a.toExponential();break;case"f":a=p[7]?parseFloat(a).toFixed(p[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=r(a))&&p[7]?a.substring(0,p[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(p[8])&&p[3]&&a>=0?"+"+a:a,m=p[4]?"0"==p[4]?"0":p[4].charAt(1):" ",y=p[6]-r(a).length,h=p[6]?e(m,y):"",l.push(p[5]?a+h:h+a)}return l.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var o=[],s=n[2],u=[];if(null===(u=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("[_.sprintf] huh?");for(o.push(u[1]);""!==(s=s.substring(u[0].length));)if(null!==(u=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(u[1]);else{if(null===(u=/^\[(\d+)\]/.exec(s)))throw new Error("[_.sprintf] huh?");o.push(u[1])}n[2]=o}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}e=e.substring(n[0].length)}return r},n}(),y={VERSION:"2.3.0",isBlank:function(t){return null==t&&(t=""),/^\s*$/.test(t)},stripTags:function(t){return null==t?"":r(t).replace(/<\/?[^>]+>/g,"")},capitalize:function(t){return t=null==t?"":r(t),t.charAt(0).toUpperCase()+t.slice(1)},chop:function(t,e){return null==t?[]:(t=r(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])},clean:function(t){return y.strip(t).replace(/\s+/g," ")},count:function(t,e){if(null==t||null==e)return 0;t=r(t),e=r(e);for(var n=0,i=0,o=e.length;;){if(i=t.indexOf(e,i),-1===i)break;n++,i+=o}return n},chars:function(t){return null==t?[]:r(t).split("")},swapCase:function(t){return null==t?"":r(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})},escapeHTML:function(t){return null==t?"":r(t).replace(/[&<>"']/g,function(t){return"&"+h[t]+";"})},unescapeHTML:function(t){return null==t?"":r(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in p?p[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?r.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?r.fromCharCode(~~n[1]):t})},escapeRegExp:function(t){return null==t?"":r(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(t,e,n,r){var i=y.chars(t);return i.splice(~~e,~~n,r),i.join("")},insert:function(t,e,n){return y.splice(t,e,0,n)},include:function(t,e){return""===e?!0:null==t?!1:-1!==r(t).indexOf(e)},join:function(){var t=c.call(arguments),e=t.shift();return null==e&&(e=""),t.join(e)},lines:function(t){return null==t?[]:r(t).split("\n")},reverse:function(t){return y.chars(t).reverse().join("")},startsWith:function(t,e){return""===e?!0:null==t||null==e?!1:(t=r(t),e=r(e),t.length>=e.length&&t.slice(0,e.length)===e)},endsWith:function(t,e){return""===e?!0:null==t||null==e?!1:(t=r(t),e=r(e),t.length>=e.length&&t.slice(t.length-e.length)===e)},succ:function(t){return null==t?"":(t=r(t),t.slice(0,-1)+r.fromCharCode(t.charCodeAt(t.length-1)+1))},titleize:function(t){return null==t?"":(t=r(t).toLowerCase(),t.replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()}))},camelize:function(t){return y.trim(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},underscored:function(t){return y.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(t){return y.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(t){return y.titleize(r(t).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(t){return y.capitalize(y.underscored(t).replace(/_id$/,"").replace(/_/g," "))},trim:function(t,e){return null==t?"":!e&&o?o.call(t):(e=f(e),r(t).replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))},ltrim:function(t,e){return null==t?"":!e&&u?u.call(t):(e=f(e),r(t).replace(new RegExp("^"+e+"+"),""))},rtrim:function(t,e){return null==t?"":!e&&s?s.call(t):(e=f(e),r(t).replace(new RegExp(e+"+$"),""))},truncate:function(t,e,n){return null==t?"":(t=r(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t)},prune:function(t,e,n){if(null==t)return"";if(t=r(t),e=~~e,n=null!=n?r(n):"...",t.length<=e)return t;var i=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},o=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,i);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):y.rtrim(o.slice(0,o.length-1)),(o+n).length>t.length?t:t.slice(0,o.length)+n},words:function(t,e){return y.isBlank(t)?[]:y.trim(t,e).split(e||/\s+/)},pad:function(t,e,n,i){t=null==t?"":r(t),e=~~e;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",i){case"right":return o=e-t.length,t+l(n,o);case"both":return o=e-t.length,l(n,Math.ceil(o/2))+t+l(n,Math.floor(o/2));default:return o=e-t.length,l(n,o)+t}},lpad:function(t,e,n){return y.pad(t,e,n)},rpad:function(t,e,n){return y.pad(t,e,n,"right")},lrpad:function(t,e,n){return y.pad(t,e,n,"both")},sprintf:d,vsprintf:function(t,e){return e.unshift(t),d.apply(null,e)},toNumber:function(t,e){return t?(t=y.trim(t),t.match(/^-?\d+(?:\.\d+)?$/)?a(a(t).toFixed(~~e)):0/0):0},numberFormat:function(t,e,n,r){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),r="string"==typeof r?r:",";var i=t.split("."),o=i[0],s=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+s},strRight:function(t,e){if(null==t)return"";t=r(t),e=null!=e?r(e):e;var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t},strRightBack:function(t,e){if(null==t)return"";t=r(t),e=null!=e?r(e):e;var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t},strLeft:function(t,e){if(null==t)return"";t=r(t),e=null!=e?r(e):e;var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t},strLeftBack:function(t,e){if(null==t)return"";t+="",e=null!=e?""+e:e;var n=t.lastIndexOf(e);return~n?t.slice(0,n):t},toSentence:function(t,e,n,r){e=e||", ",n=n||" and ";var i=t.slice(),o=i.pop();return t.length>2&&r&&(n=y.rtrim(e)+n),i.length?i.join(e)+n+o:o},toSentenceSerial:function(){var t=c.call(arguments);return t[3]=!0,y.toSentence.apply(y,t)},slugify:function(t){if(null==t)return"";var e="Ä…Ã Ã¡Ã¤Ã¢Ã£Ã¥Ã¦ÄƒÄ‡Ä™Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Å‚Å„Ã²Ã³Ã¶Ã´ÃµÃ¸Å›È™È›Ã¹ÃºÃ¼Ã»Ã±Ã§Å¼Åº",n="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(f(e),"g");return t=r(t).toLowerCase().replace(i,function(t){var r=e.indexOf(t);return n.charAt(r)||"-"}),y.dasherize(t.replace(/[^\w\s-]/g,""))},surround:function(t,e){return[e,t,e].join("")},quote:function(t,e){return y.surround(t,e||'"')},unquote:function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t},exports:function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse)$/)&&(t[e]=this[e]);return t},repeat:function(t,e,n){if(null==t)return"";if(e=~~e,null==n)return l(r(t),e);for(var i=[];e>0;i[--e]=t);return i.join(n)},naturalCmp:function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+)|(\d+)|(\D+)/g,i=r(t).toLowerCase().match(n),o=r(e).toLowerCase().match(n),s=Math.min(i.length,o.length),u=0;s>u;u++){var a=i[u],l=o[u];if(a!==l){var c=parseInt(a,10);if(!isNaN(c)){var f=parseInt(l,10);if(!isNaN(f)&&c-f)return c-f}return l>a?-1:1}}return i.length===o.length?i.length-o.length:e>t?-1:1},levenshtein:function(t,e){if(null==t&&null==e)return 0;if(null==t)return r(e).length;if(null==e)return r(t).length;t=r(t),e=r(e);for(var n=[],i,o,s=0;s<=e.length;s++)for(var u=0;u<=t.length;u++)o=s&&u?t.charAt(u-1)===e.charAt(s-1)?i:Math.min(n[u],n[u-1],i)+1:s+u,i=n[u],n[u]=o;return n.pop()},toBoolean:function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=y.trim(t),i(t,e||["true","1"])?!0:i(t,n||["false","0"])?!1:void 0)}};y.strip=y.trim,y.lstrip=y.ltrim,y.rstrip=y.rtrim,y.center=y.lrpad,y.rjust=y.lpad,y.ljust=y.rpad,y.contains=y.include,y.q=y.quote,y.toBool=y.toBoolean,"undefined"!=typeof n&&("undefined"!=typeof e&&e.exports&&(e.exports=y),n._s=y),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return y}),t._=t._||{},t._.string=t._.str=y}(this,String)},{}]},{},[16]);